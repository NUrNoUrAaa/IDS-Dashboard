<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Left: KPIs + recent alerts -->
    <div class="lg:col-span-2 space-y-6">
        <!-- KPIs -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="p-6 rounded-2xl bg-white dark:bg-gray-800 shadow">
                <h3 class="text-sm text-gray-600 dark:text-gray-400">Total Traffic</h3>
                <p class="text-2xl font-bold text-cyberBlue">{{overview?.totalTraffic}}</p>
            </div>
            <div class="p-6 rounded-2xl bg-white dark:bg-gray-800 shadow">
                <h3 class="text-sm text-gray-600 dark:text-gray-400">Detected Attacks</h3>
                <p class="text-2xl font-bold text-red-500">{{overview?.detected}}</p>
            </div>
            <div class="p-6 rounded-2xl bg-white dark:bg-gray-800 shadow">
                <h3 class="text-sm text-gray-600 dark:text-gray-400">Accuracy</h3>
                <p class="text-2xl font-bold text-green-500">{{overview?.accuracy}}%</p>
            </div>
            <div class="p-6 rounded-2xl bg-white dark:bg-gray-800 shadow">
                <h3 class="text-sm text-gray-600 dark:text-gray-400">Active Alerts</h3>
                <p class="text-2xl font-bold text-yellow-500">{{overview?.activeAlerts}}</p>
            </div>
        </div>

        <!-- Traffic chart -->
        <div class="p-6 rounded-2xl bg-white dark:bg-gray-800 shadow">
            <apx-chart *ngIf="trafficChartOptions.series" [tooltip]="trafficChartOptions.tooltip" [series]="trafficChartOptions.series" [chart]="trafficChartOptions.chart" [xaxis]="trafficChartOptions.xaxis" [stroke]="trafficChartOptions.stroke">
            </apx-chart>
        </div>

        <!-- Recent Alerts -->
        <div class="p-6 rounded-2xl bg-white dark:bg-gray-800 shadow">
            <h4 class="font-semibold mb-3 text-gray-800 dark:text-white">Recent Alerts</h4>
            <table class="w-full text-left">
                <thead class="text-sm text-gray-600 dark:text-gray-300">
                    <tr>
                        <th class="p-2">Time</th>
                        <th class="p-2">Type</th>
                        <th class="p-2">Source</th>
                        <th class="p-2">Severity</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let a of recentAlerts" class="border-t border-gray-200 dark:border-gray-700">
                        <td class="p-2 text-sm text-gray-700 dark:text-gray-200">{{a.time}}</td>
                        <td class="p-2 text-gray-800 dark:text-white">{{a.type}}</td>
                        <td class="p-2 text-gray-800 dark:text-white">{{a.src}}</td>
                        <td class="p-2" [ngClass]="{
                  'text-red-500': a.severity === 'High',
                  'text-yellow-500': a.severity === 'Medium',
                  'text-green-500': a.severity === 'Low'
                }">
                            {{a.severity}}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Right: Donut + model summary -->
    <div class="space-y-6">
        <!-- Donut -->
        <div class="p-6 rounded-2xl bg-white dark:bg-gray-800 shadow">
            <apx-chart *ngIf="donutOptions.series" [series]="donutOptions.series" [chart]="donutOptions.chart" [labels]="donutOptions.labels" [legend]="donutOptions.legend">
            </apx-chart>
        </div>

        <!-- Model Summary -->
        <div class="p-6 rounded-2xl bg-white dark:bg-gray-800 shadow">
            <h4 class="font-semibold mb-2 text-gray-800 dark:text-white">Model Summary</h4>
            <div class="text-sm text-gray-600 dark:text-gray-300">
                Current: <span class="font-medium text-cyberBlue">RandomForest</span>
            </div>
            <div class="mt-3 grid grid-cols-3 gap-2">
                <div class="p-2 bg-gray-50 dark:bg-gray-700 rounded text-center">
                    <span class="text-xs text-gray-600 dark:text-gray-300">Acc</span><br/>
                    <strong class="text-green-500">97%</strong>
                </div>
                <div class="p-2 bg-gray-50 dark:bg-gray-700 rounded text-center">
                    <span class="text-xs text-gray-600 dark:text-gray-300">Precision</span><br/>
                    <strong class="text-blue-500">96%</strong>
                </div>
                <div class="p-2 bg-gray-50 dark:bg-gray-700 rounded text-center">
                    <span class="text-xs text-gray-600 dark:text-gray-300">Recall</span><br/>
                    <strong class="text-purple-500">95%</strong>
                </div>
            </div>
        </div>
    </div>
</div>
